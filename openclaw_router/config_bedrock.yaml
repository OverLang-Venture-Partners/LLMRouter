# ============================================================
# OpenClaw Router Configuration (AWS Bedrock)
# ============================================================

serve:
  host: "0.0.0.0"
  port: 8000
  show_model_prefix: true

# Routing Strategy
# Options: random, round_robin, rules, llm, bedrock_smart_router
router:
  strategy: bedrock_smart_router  # Use custom smart router
  # No provider/model needed - router handles selection

# IMPORTANT:
# Bedrock uses IAM authentication (EC2 instance role)
# Empty string for bedrock key tells LiteLLM to use IAM
api_keys:
  bedrock: ""

# AWS Configuration
aws:
  region: us-east-1  # Default region for Bedrock

# LLM Backend Configuration (AWS Bedrock models)
llms:
  # Amazon Nova Models
  nova-micro:
    description: "Ultra-cheap routing/triage - fastest, lowest cost"
    provider: bedrock
    model: "bedrock/us.amazon.nova-micro-v1:0"
    aws_region: us-east-1
    input_price: 0.035
    output_price: 0.14
    max_tokens: 5000
    context_limit: 128000

  nova-2-lite:
    description: "Primary workhorse - multimodal, 1M context, balanced performance"
    provider: bedrock
    model: "bedrock/global.amazon.nova-2-lite-v1:0"
    aws_region: us-east-1
    input_price: 0.30
    output_price: 2.50
    max_tokens: 5000
    context_limit: 1000000

  nova-pro:
    description: "Reasoning tasks - complex analysis and problem solving"
    provider: bedrock
    model: "bedrock/us.amazon.nova-pro-v1:0"
    aws_region: us-east-1
    input_price: 0.80
    output_price: 3.20
    max_tokens: 5000
    context_limit: 300000

  # Anthropic Claude Models
  haiku:
    description: "Claude family entry - fast, efficient, with prompt caching"
    provider: bedrock
    model: "bedrock/us.anthropic.claude-haiku-4-5-20251001-v1:0"
    aws_region: us-east-1
    input_price: 0.80
    output_price: 4.00
    max_tokens: 8192
    context_limit: 200000

  sonnet:
    description: "Complex reasoning - long-form writing, architecture design"
    provider: bedrock
    model: "bedrock/us.anthropic.claude-sonnet-4-5-20250929-v1:0"
    aws_region: us-east-1
    input_price: 3.00
    output_price: 15.00
    max_tokens: 8192
    context_limit: 200000

  opus:
    description: "Deep think only - maximum reasoning depth for hardest problems"
    provider: bedrock
    model: "bedrock/us.anthropic.claude-opus-4-5-20251101-v1:0"
    aws_region: us-east-1
    input_price: 15.00
    output_price: 75.00
    max_tokens: 8192
    context_limit: 200000

# Routing Memory
# The bedrock_smart_router has its own memory system
# This section is for OpenClaw's memory (optional)
memory:
  enabled: false
  path: "${HOME}/.llmrouter/openclaw_bedrock_memory.jsonl"

# Media Understanding
# Bedrock supports multimodal models (Nova 2 Lite)
media:
  enabled: false  # Disable for now, can enable with Nova 2 Lite later
